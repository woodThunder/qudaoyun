
<div class="ui-panel ui-list-panel">
  <div>
    <div class="page-title">
      <span>零售管控价</span>
    </div>
  </div>
  <div>
    <div>
      <div class="oc-breadcrumb">
      </div>
    </div>
  </div>
  <div class="title-seperator"></div>
  <div class="ui-searchbox ui-panel-head">
    <div id="retailmanagementprice-searchcontent" class="ui-searchbox-content">

    </div>
    <div class="clearfix">

    </div>
    <div class="ui-searchbox-footer">
      <div class="ui-search-more hidden">
          <a>更多<i class="uifont icon-down"></i></a>
      </div>

      <div class="ui-search-btn">
      	<a class="ui-btn ui-btn-primary margin-right-5"
        data-bind="click:cleanSearch">清空
        </a>
        <a class="ui-btn ui-btn-green"
        data-bind="click:search.bind($data,true)">搜索
        </a>
      </div>
      <div class="clearfix">

      </div>
    </div>
  </div>

  <div class="ui-panel-body">
  	<div class="ui-panel-body-head">
  		<div class="ui-panel-body-head-left">
  			<a class="ui-btn ui-btn-orange margin-right-5"
          data-bind="click: showAddBillPanel, visible: buttonShowGroup['add']"><i class="uifont icon-plus margin-right-5"></i>新增
        </a>
        <a class="ui-btn ui-btn-primary margin-right-5"
          data-bind="click: del, visible: buttonShowGroup['del']"><i class="uifont icon-shanchu1 margin-right-5"></i>删除
        </a>
        <!--<a class="ui-btn ui-btn-primary margin-right-5"
          data-bind="click: showCopyBillPanel"><i class="uifont icon-copy margin-right-5"></i>复制
        </a>-->
        <div class="ui-button-group clearfix vertical-align-middle margin-right-5">
            <a class="ui-button-item" data-bind="click: auditHandle, visible: buttonShowGroup['approve']"><i class="uifont icon-tubiao-shenhe margin-right-5"></i>审核</a>
            <a class="ui-button-item" data-bind="click: abandonAuditHandle, visible: buttonShowGroup['unapprove']"><i class="uifont icon-tubiao-quxiaoshenhe margin-right-5"></i>弃审</a>
        </div>
         <div class="ui-button-group clearfix vertical-align-middle margin-right-5">
            <a class="ui-button-item" data-bind="click: importHandle, visible: buttonShowGroup['import']"><i class="uifont  icon-import margin-right-5"></i>导入</a>
            <a class="ui-button-item" data-bind="click: exportHandle, visible: buttonShowGroup['export']"><i class="uifont icon-export margin-right-5"></i>导出</a>
        </div>
        <!--<a class="ui-btn ui-btn-primary margin-right-5" id="user-action-del"
          data-bind="click: invalidHandle">作废
        </a>-->
  		</div>
  		<!--<div class="ui-panel-body-head-right">
  			<i class="uifont icon-i font-c-blue margin-right-5"></i>共搜索到<span data-bind="text:retailmanagementpriceList.totalRow"></span>条数据
  		</div>-->
  	</div>
      <div class="ui-table-container">
          <div id="retailmanagementprice"
               u-meta='{"id":"grid_retailmanagementprice","data":"retailmanagementpriceList","type":"grid","editable":false,"multiSelect":true,"showNumCol":true}'>
                      <div options='{"field":"code","dataType":"String","title":"管控价表编码","renderType":"detailRender"}'></div>
                      <div options='{"field":"name","dataType":"String","title":"管控价表名称"}'></div>
                      <div options='{"field":"priceTypeName","dataType":"String","title":"价格类型"}'></div>
                      <div options='{"field":"saleChannelName","dataType":"String","title":"渠道类型"}'></div>
                      <div options='{"field":"auditStatus","dataType":"String","title":"审核状态","renderType":"auditStatusGrid"}'></div>
                      <div options='{"field":"remark","dataType":"String","title":"备注"}'></div>
                      <div options='{"field":"auditor","dataType":"String","title":"审核人"}'></div>
                      <div options='{"field":"auditTime","dataType":"date","title":"审核时间"}'></div>
                      <div options='{"field":"operation","dataType":"String","title":"变更历史","renderType":"changeHistoryListRender","editable":false}'></div>
                      <div options='{"field":"operation","dataType":"String","title":"操作","renderType":"operation","fixed":true,"width":"110px"}'></div>
          </div>
          <div class="ui-statistics margin-top-10">
            <i class="uifont icon-i font-c-blue margin-right-10"></i>已选择<span class="font-c-blue" data-bind="text:retailmanagementpriceList.selectedIndices().length"></span>项数据
          </div>
          <div class="pagination-right">
            <div id='pagination' class='pagination u-pagination pagination-sm'
            u-meta='{"type":"pagination","data":"retailmanagementpriceList","pageChange":"pageChange","sizeChange":"sizeChange"}'></div>
          </div>
      </div>
    </div>
</div>



<div class="ui-panel ui-bill-panel" style="display: none;" id="validate">
  <div>
    <div class="page-title">
      <span>零售管控价</span>
    </div>
  </div>
  <div>
    <div>
      <div class="oc-breadcrumb">
      </div>
    </div>
  </div>
  <div class="ui-panel-btn-bg">
    <div class="ui-operate-btn">
    	<a class="ui-btn ui-btn-primary" data-bind="click:cancelHandle">取消
      </a>
      <a class="ui-btn ui-btn-green" data-bind="click:saveBill.bind($data,-1)">保存
      </a>
    </div>
  </div>
  <div class="ui-panel-head ui-bill-head">
  	<div class="ui-item">
			<span class="ui-name">管控价表编码：</span>
			<div class="ui-inputarea">
	        <div u-meta='{"id":"code","type":"u-text","data":"retailmanagementpriceList","field":"code","enable":"false"}'>
	          <input class="u-input"/>
	        </div>
	    </div>
	  </div>
	  <div class="ui-item">
			<span class="ui-name"><i class="strong">*</i>管控价表名称：</span>
			<div class="ui-inputarea">
	        <div u-meta='{"id":"name","type":"u-text","data":"retailmanagementpriceList","field":"name"}'>
	          <input class="u-input"/>
	        </div>
	    </div>
	  </div>
	  <div class="ui-item-text ui-item">
	  		<span class="item-name ui-name">审核状态：</span>
	  		<div class="ui-inputarea">
	  			<span class="text-value" data-bind="text: auditStatus()"></span>
	  		</div>
	  </div>
    <div class="ui-item">
      <div class="ui-name"><i class="strong">*</i>价格类型：</div>
      <div class="ui-inputarea">
        <div u-meta='{"type":"u-combobox","data":"retailmanagementpriceList","field":"priceTypeCode","datasource":"priceTypeData","required":"true"}'>
         <input class="u-input"/>
         <span class="ui-icon uf uf-arrow-down" data-role="combo-button"></span>
        </div>
      </div>
    </div>
    <div class="ui-item">
      <div class="ui-name"><i class="strong">*</i>渠道类型：</div>
      <div class="ui-inputarea">
        <div u-meta='{"type":"u-radio","data":"retailmanagementpriceList","field":"saleChannelCode","datasource":"enableRadioSrc"}'>
            <label  class="u-radio" >
                <input type="radio" class="u-radio-button" name="options">
                <span class="u-radio-label"></span>
            </label>
        </div>
      </div>
    </div>
    <div class="ui-item  ui-textarea-item">
			<span class="ui-name">备注：</span>
			<div class="ui-inputarea">
	        <textarea u-meta='{"id":"remark","type":"textarea","data":"retailmanagementpriceList","field":"remark"}'></textarea>
	    </div>
	  </div>
    <div class="clearfix"></div>
  </div>
  <div class="ui-searchbox">
  	<div class="searchChild-area" style="display: none;">
	    <div id="retailmanagementprice-searchcontent-child" class="ui-searchbox-content">

	    </div>
	    <div class="clearfix">

	    </div>
	    <div class="ui-searchbox-footer">
	      <div class="ui-search-more hidden">
	          <a>更多<i class="uifont icon-down"></i></a>
	      </div>

	      <div class="ui-search-btn">
	        <a class="ui-btn ui-btn-primary margin-right-5"
	        data-bind="click:cleanSearchChild">清空
	        </a>
	          <a class="ui-btn ui-btn-green"
	             data-bind="click:searchChild.bind($data,true)">搜索
	          </a>
	      </div>
	      <div class="clearfix">

	      </div>
	    </div>
    </div>
  </div>
  <div class="ui-bill-body">
      <div class="margin-bottom-10  margin-top-10">
        <a class="ui-btn ui-btn-orange margin-right-5"
          data-bind="click: showProductRef"><i class="uifont icon-plus margin-right-5"></i>增行
        </a>
        <div id="productRefer" u-meta='{"type":"uiRefer","data":"ProductRef","field":"productRefer"}' style="display:none;">
	        <input readonly="readonly"/>
	        <span class="ui-icon uifont icon-bar refer"></span>
	      </div>
        <a class="ui-btn ui-btn-primary margin-right-5"
          data-bind="click: delChild"><i class="uifont icon-shanchu1 margin-right-5"></i>删行
        </a>
        <div class="ui-button-group clearfix vertical-align-middle margin-right-5">
        	<a class="ui-button-item" data-bind="click: enableHandle"><i class="uifont icon-qiyong margin-right-5"></i>启用</a>
					<a class="ui-button-item" data-bind="click: disableHandle"><i class="uifont icon-tingyong margin-right-5"></i>停用</a>
				</div>
        <!-- <div class="ui-button-group clearfix vertical-align-middle margin-right-5">
						<a class="ui-button-item" ><i class="uifont  icon-import margin-right-5"></i>导入</a>
						<a class="ui-button-item" ><i class="uifont icon-export margin-right-5"></i>导出</a>
				</div> -->
				<a class="ui-btn-primary ui-btn searchChild-btn">展开搜索</a>
      </div>
      <div class="ui-table-container">
          <div id="retailmanagementprice"
               u-meta='{"id":"grid_retailmanagementpriceChild","data":"retailmanagementpriceChild","type":"grid","editable":true,"multiSelect":true,"showNumCol":true}'>
											<div options='{"field":"showCode","dataType":"String","title":"产品编码","editable":false}'></div>
											<div options='{"field":"showName","dataType":"String","title":"产品名称","editable":false}'></div>
                      <div options='{"field":"productGroupName","dataType":"String","title":"产品组","editable":false}'></div>
                      <div options='{"field":"agencypartitionId","dataType":"String","title":"办事处分区","renderType":"ncReferRender","editType":"ncReferEditType","showField":"agencypartitionName","editOptions":{"validType":"string","rel":{"refpk":"agencypartitionId","refname":"agencypartitionName","refcode":"agencypartitionCode"}}}'></div>
                      <div options='{"field":"agencyId","dataType":"String","title":"办事处","renderType":"ncReferRender","editType":"ncReferEditType","showField":"agencyName","editOptions":{"validType":"string","rel":{"refpk":"agencyId","refname":"agencyName"}}}'></div>
                      <div options='{"field":"customerId","dataType":"String","title":"客户","renderType":"ncReferRender","editType":"ncReferEditType","showField":"customerName","editOptions":{"validType":"string","rel":{"refpk":"customerId","refname":"customerName"}}}'></div>
                      <div options='{"field":"price","dataType":"Float","title":"价格","required":true,"editType":"float","editOptions":{"validType":"float","min":0,"maxNotEq":100000000}}'></div>
                      <div options='{"field":"isEnable","dataType":"String","title":"启用状态","renderType":"enabledGrid","editable":false}'></div>
                      <div options='{"field":"remark","dataType":"String","title":"备注"}'></div>
                      <div options='{"field":"operation","dataType":"String","title":"变更历史","renderType":"changeHistoryRender","editable":false}'></div>
                      <div options='{"field":"creator","dataType":"String","title":"创建人","visible":"false","editable":false}'></div>
                      <div options='{"field":"creationTime","dataType":"date","title":"创建时间","visible":"false","editable":false}'></div>
                      <div options='{"field":"modifier","dataType":"String","title":"修改人","visible":"false","editable":false}'></div>
                      <div options='{"field":"modifiedTime","dataType":"String","title":"修改时间","visible":"false","editable":false}'></div>
          </div>
          <div class="ui-statistics margin-top-10">
				    <i class="uifont icon-i font-c-blue margin-right-10"></i>已选择<span class="font-c-blue" data-bind="text:retailmanagementpriceChild.selectedIndices().length"></span>项数据
				  </div>
				  <div class="pagination-right">
				    <div id='paginationChild' class='pagination u-pagination pagination-sm'
				    u-meta='{"type":"pagination","data":"retailmanagementpriceChild","beforePageChange":"beforPageChangeFun","sizeChange":"sizeChangeChild"}'></div>
				  </div>
      </div>
    </div>
</div>

<div class="ui-panel ui-bill-detail" style="display: none;">
  <div>
    <div class="page-title">
      <span>零售管控价</span>
    </div>
  </div>
  <div>
    <div>
      <div class="oc-breadcrumb">
      </div>
    </div>
  </div>
  <div class="ui-panel-btn-bg">
    <div class="ui-operate-btn">
    	<a class="ui-btn ui-btn-primary" data-bind="click:retListPanelFun">返回
      </a>
       <a class="ui-btn ui-btn-green" data-bind="click: editHandle.bind($data)">编辑
      </a>
    </div>
  </div>
  <div class="ui-panel-head ui-bill-head">
  	<div class="ui-item">
			<span class="ui-name">管控价表编码：</span>
			<div class="ui-inputarea">
				<div data-bind='text: retailmanagementpriceList.ref("code")'></div>
	    </div>
	  </div>
	  <div class="ui-item">
			<span class="ui-name"><i class="strong">*</i>管控价表名称：</span>
			<div class="ui-inputarea">
				<div data-bind='text: retailmanagementpriceList.ref("name")'></div>
	    </div>
	  </div>
	  <div class="ui-item-text ui-item">
	  		<span class="item-name ui-name">审核状态：</span>
	  		<div class="ui-inputarea">
	  			<span class="text-value" data-bind="text: auditStatus()"></span>
	  		</div>
	  </div>
    <div class="ui-item">
      <div class="ui-name"><i class="strong">*</i>价格类型：</div>
      <div class="ui-inputarea">
      	<span class="text-value" data-bind='text: retailmanagementpriceList.ref("priceTypeName")'></span>
      </div>
    </div>
    <div class="ui-item-text ui-item">
	  		<span class="item-name ui-name"><i class="strong">*</i>渠道类型：</span>
	  		<div class="ui-inputarea">
	  			<span class="text-value" data-bind="text: saleChannelType()"></span>
	  		</div>
	  </div>
	  <div class="ui-item ui-textarea-detail clearfix">
      <div class="ui-name">备注：</div>
      <div class="ui-inputarea">
        <div data-bind='text: retailmanagementpriceList.ref("remark")'>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="ui-searchbox">
  	<div class="searchChild-area" style="display: none;">
	    <div id="retailmanagementprice-searchcontent-child-detail" class="ui-searchbox-content">

	    </div>
	    <div class="clearfix">

	    </div>
	    <div class="ui-searchbox-footer">
	      <div class="ui-search-more hidden">
	          <a>更多<i class="uifont icon-down"></i></a>
	      </div>

	      <div class="ui-search-btn">
	        <a class="ui-btn ui-btn-primary margin-right-5"
	        data-bind="click:cleanSearchChild">清空
	        </a>
	          <a class="ui-btn ui-btn-green"
	             data-bind="click:searchChild.bind($data,true)">搜索
	          </a>
	      </div>
	      <div class="clearfix">

	      </div>
	    </div>
    </div>
  </div>
  <div class="ui-bill-body">
  		<div class="margin-bottom-10  margin-top-10">
        <a class="ui-btn-primary ui-btn searchChild-btn">展开搜索</a>
      </div>
      <div class="ui-table-container">
          <div id="retailmanagementprice"
               u-meta='{"id":"grid_retailmanagementpriceChild_detail","data":"retailmanagementpriceChild","type":"grid","editable":false,"multiSelect":false,"showNumCol":true}'>
                      <div options='{"field":"showCode","dataType":"String","title":"产品编码","editable":false}'></div>
                      <div options='{"field":"showName","dataType":"String","title":"产品名称","editable":false}'></div>
                      <div options='{"field":"productGroupName","dataType":"String","title":"产品组","editable":false}'></div>
                      <div options='{"field":"agencypartitionId","dataType":"String","title":"办事处分区","renderType":"ncReferRender","editType":"ncReferEditType","showField":"agencypartitionName","editOptions":{"validType":"string"}}'></div>
                      <div options='{"field":"agencyId","dataType":"String","title":"办事处","renderType":"ncReferRender","editType":"ncReferEditType","showField":"agencyName","editOptions":{"validType":"string"}}'></div>
                      <div options='{"field":"customerId","dataType":"String","title":"客户","renderType":"ncReferRender","editType":"ncReferEditType","showField":"customerName","editOptions":{"validType":"string"}}'></div>
                      <div options='{"field":"price","dataType":"Float","title":"价格"}'></div>
                      <div options='{"field":"isEnable","dataType":"String","title":"启用状态","renderType":"enabledGrid","editable":false}'></div>
                      <div options='{"field":"remark","dataType":"String","title":"备注"}'></div>
                      <div options='{"field":"operation","dataType":"String","title":"变更历史","renderType":"changeHistoryRender","editable":false}'></div>
                      <div options='{"field":"creator","dataType":"String","title":"创建人","visible":"false","editable":false}'></div>
                      <div options='{"field":"creationTime","dataType":"date","title":"创建时间","visible":"false","editable":false}'></div>
                      <div options='{"field":"modifier","dataType":"String","title":"修改人","visible":"false","editable":false}'></div>
                      <div options='{"field":"modifiedTime","dataType":"String","title":"修改时间","visible":"false","editable":false}'></div>
          </div>
           <div class="ui-statistics margin-top-10">
				    <i class="uifont icon-i font-c-blue margin-right-10"></i>已选择<span class="font-c-blue" data-bind="text:retailmanagementpriceChild.selectedIndices().length"></span>项数据
				  </div>
				  <div class="pagination-right">
				    <div id='paginationChild-detail' class='pagination u-pagination pagination-sm'
				    u-meta='{"type":"pagination","data":"retailmanagementpriceChild","pageChange":"pageChangeChild","sizeChange":"sizeChangeChild"}'></div>
				  </div>
      </div>
    </div>
</div>
<!--子表变更历史 弹框-->
<div id="dialog_content_change" style="display:none;">
	<div class="u-msg-title">
		<h4>操作日志</h4>
	</div>
	<div class="u-msg-content">
		<div class="ui-panel-head ui-bill-head">
			<div id="history-searchcontent" class="ui-searchbox-content">

	    </div>
	    <div class="clearfix"></div>
	    <div class="ui-searchbox-footer">
	      <div class="ui-search-btn u-text-align-right margin-top-10 margin-right-20">
	      	<a class="ui-btn ui-btn-primary margin-right-5"
	        data-bind="click:cleanSingledocSearch">清空
	        </a>
	        <a class="ui-btn ui-btn-green"
	        data-bind="click:singledocSearch.bind($data,true)">搜索
	        </a>
	      </div>
	      <div class="clearfix"></div>
	    </div>
		</div>
		<div u-meta='{"id":"grid_demoproductCombineItem_change","data":"changeHistoryData","type":"grid","editable":false,"multiSelect":false,"showNumCol":false}'>
        <div options='{"field":"preContent","dataType":"String","title":"操作前内容","width":"450px"}'></div>
        <div options='{"field":"content","dataType":"String","title":"内容","width":"450px"}'></div>
        <div options='{"field":"operationTime","dataType":"String","title":"操作时间","width":"150px"}'></div>
        <div options='{"field":"handleType","dataType":"String","title":"操作类型","renderType":"textDefaultRender","width":"100px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"操作人","width":"100px"}'></div>
    </div>
    <div class="pagination-right">
	    <div id='historySearcher' class='pagination u-pagination pagination-sm'
	    u-meta='{"type":"pagination","data":"changeHistoryData","pageChange":"pageChangePrice","sizeChange":"sizeChangePrice"}'></div>
	  </div>
	</div>
	<div class="u-msg-footer">
		<a class="u-msg-cancel ui-btn ui-btn-primary margin-right-5">取消</a>
		<a class="u-msg-ok ui-btn ui-btn-green">确定</a>
	</div>
</div>
<!--主表变更历史 弹框 end-->
<div id="dialog_content_list_change" style="display:none;">
	<div class="u-msg-title">
		<h4>操作日志</h4>
	</div>
	<div class="u-msg-content">
		<div class="ui-panel-head ui-bill-head">
			<div id="history-list-searchcontent" class="ui-searchbox-content">

	    </div>
	    <div class="clearfix"></div>
	    <div class="ui-searchbox-footer">
	      <div class="ui-search-btn u-text-align-right margin-top-10 margin-right-20">
	      	<a class="ui-btn ui-btn-primary margin-right-5"
	        data-bind="click:cleanSingledocListSearch">清空
	        </a>
	        <a class="ui-btn ui-btn-green"
	        data-bind="click:singledocListSearch.bind($data,true)">搜索
	        </a>

	      </div>
	      <div class="clearfix"></div>
	    </div>
		</div>
		<div u-meta='{"id":"grid_demoproductCombineItem_list_change","data":"changeHistoryListData","type":"grid","editable":false,"multiSelect":false,"showNumCol":false}'>
        <div options='{"field":"preContent","dataType":"String","title":"修改前内容","width":"350px"}'></div>
        <div options='{"field":"content","dataType":"String","title":"修改后内容","width":"350px"}'></div>
        <!--<div options='{"field":"operator","dataType":"String","title":"修改前名称","width":"100px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改后名称","width":"100px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改前审核状态","width":"140px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改后审核状态","width":"140px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改前价格类型","width":"140px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改后价格类型","width":"140px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改前渠道类型","width":"140px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"修改后渠道类型","width":"140px"}'></div>-->
        <div options='{"field":"isChange","dataType":"String","title":"子表是否修改","renderType":"isChangeRender","width":"120px"}'></div>
        <div options='{"field":"operationTime","dataType":"String","title":"操作时间","width":"180px"}'></div>
        <div options='{"field":"handleType","dataType":"String","title":"操作类型","renderType":"textDefaultRender","width":"120px"}'></div>
        <div options='{"field":"operator","dataType":"String","title":"操作人","width":"120px"}'></div>
    </div>
    <div class="pagination-right">
	    <div id='historyListSearcher' class='pagination u-pagination pagination-sm'
	    u-meta='{"type":"pagination","data":"changeHistoryData","pageChange":"pageChangePriceList","sizeChange":"sizeChangePriceList"}'></div>
	  </div>
	</div>
	<div class="u-msg-footer">
		<a class="u-msg-cancel ui-btn ui-btn-primary margin-right-5">取消</a>
		<a class="u-msg-ok ui-btn ui-btn-green">确定</a>
	</div>
</div>
<!--变更历史 弹框 end-->

<!--导入弹框 end-->
<div id="exportFiel"></div>
<div id="importFiel"></div>
