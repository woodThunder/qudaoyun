<!--main-->
<div class="ui-list-panel ui-panel">
  <div>
    <div class="page-title">
      <span>送装请求</span>
    </div>
  </div>
  <div>
    <div>
      <div class="oc-breadcrumb">
      </div>
    </div>
  </div>
  <div class="title-seperator"></div>

  <div class="ui-searchbox">
    <div id="PromoActivity-searchcontent" class="ui-searchbox-content clearfix"></div>
    <div class="ui-searchbox-footer clearfix">
      <div class="ui-search-more hidden">
        <a>更多
          <i class="uifont icon-down"></i>
        </a>
      </div>

      <div class="ui-search-btn">
        <a class="ui-btn ui-btn-green margin-right-5" data-bind="click:search.bind($data,true)">搜索
        </a>
        <a class="ui-btn ui-btn-primary" data-bind="click:cleanSearch">清空
        </a>
      </div>
    </div>
  </div>

  <div class="ui-panel-body">
    <!--ui-panel-body-head-->
    <div class="ui-panel-body-head">
      <div class="ui-panel-body-head-left">
        <!-- <a class="ui-btn ui-btn-primary margin-right-5" id="user-action-del" data-bind="click:">
            预约排工
         </a> -->
      </div>
    </div>
    <!--ui-panel-body-head end-->
    <div class="ui-table-container">
      <div id="mainListData" u-meta='{"id":"grid_main_list","data":"mainListData","type":"grid","editable":false,"multiSelect":false,"showNumCol":true}'>
        <div options='{"field":"code","dataType":"String","title":"送装请求号","renderType":"detailRender"}'></div>
        <div options='{"field":"dispatchNoteCode","dataType":"String","title":"配送任务单号"}'></div>
        <div options='{"field":"orderCode","dataType":"String","title":"零售订单号"}'></div>        
        <div options='{"field":"requireDate","dataType":"Date","title":"要求服务日期"}'></div>
        <div options='{"field":"dispatchType","dataType":"integer","title":"配送类型","renderType":"comboRender","editOptions":{"type":"combo","datasource":"dispatchTypeSrc"}}'></div>
        <div options='{"field":"customer","dataType":"String","title":"收货人姓名"}'></div>
        <div options='{"field":"phone","dataType":"String","title":"收货人电话"}'></div>
        <!-- <div options='{"field":"code","dataType":"String","title":"安装人员"}'></div> -->
        <!-- <div options='{"field":"requireDate","dataType":"Date","title":"排工日期"}'></div> -->
        <div options='{"field":"billStatus","dataType":"integer","title":"任务状态","renderType":"comboRender","editOptions":{"type":"combo","datasource":"billStatusSrc"}}'></div>
        <div options='{"field":"isOrdered","dataType":"integer","title":"预约状态","renderType":"comboRender","editOptions":{"type":"combo","datasource":"enumerateSrc"}}'></div>
        
        <div options='{"field":"creator","dataType":"String","title":"创建人","visible":false}'></div>
        <div options='{"field":"modifier","dataType":"String","title":"修改人","visible":false}'></div>
        <div options='{"field":"creationTime","dataType":"Datetime","title":"创建时间","visible":false}'></div>
        <div options='{"field":"modifiedTime","dataType":"Datetime","title":"修改时间","visible":false}'></div>
        <!-- <div options='{"field":"operation","dataType":"String","title":"操作","renderType":"operation","fixed":true,"width":"110px"}'></div> -->

      </div>
      <div class="ui-statistics margin-top-10">
        <i class="uifont icon-i font-c-blue margin-right-10"></i>已选择
        <span class="font-c-blue" data-bind="text:mainListData.selectedIndices().length"></span>项数据
      </div>
      <div class="pagination-right">
        <div id='pagination' class='pagination u-pagination pagination-sm' u-meta='{"type":"pagination","data":"mainListData","pageChange":"pageChange","sizeChange":"sizeChange"}'></div>
      </div>
    </div>
  </div>
</div>
<!--main end-->
<!-- 预约排工信息 -->
<div class="ui-panel ui-bill-panel" style="display: none;" id="validate">
  <div class="page-title">预约排工信息</div>
  <div class="ui-panel-btn-bg">
      <div class="ui-operate-btn">
            <a class="ui-btn ui-btn-primary" data-bind="click: cancelBill.bind($data)">返回</a>
            <a class="ui-btn ui-btn-green" data-bind="visible: flag, click:appointmentSave.bind($data,'0')">确定预约</a>
            <a class="ui-btn ui-btn-green" data-bind="click:appointmentSave.bind($data,'1')">确定排工</a>
      </div>
  </div>
  <!--head-->
  <div class="margin-top-10">
      <div class="ui-bill-body">
            <div class="clearfix margin-bottom-20">
                    <div class="ui-item">
                            <div class="ui-name" >
                                    收货人：</div>
                            <div class="ui-inputarea" data-bind="text:mainListData.ref('customer')" >
                                    <input class="u-input" />
                            </div>
                    </div>
                    <div class="ui-item">
                            <div class="ui-name" >
                                    收货人电话：</div>
                            <div class="ui-inputarea" data-bind="text:mainListData.ref('phone')" >
                                    <input class="u-input" />
                            </div>
                    </div>
                    <div class="ui-item">
                        <div class="ui-name">
                            配送类型：</div>
                        <div class="ui-inputarea" u-meta='{"type":"u-combobox","data":"mainListData",
                        "field":"dispatchType","datasource":"dispatchTypeSrc","enable":"false"}'>
                            <input class="ui-no-border" />
                        </div>
                    </div>
                    <div class="ui-item">
                            <div class="ui-name" >
                                    零售订单号：</div>
                            <div class="ui-inputarea" data-bind="text:mainListData.ref('orderCode')" >
                                    <input class="u-input" />
                            </div>
                    </div>
                    <div class="ui-item">
                            <div class="ui-name" >
                                    送装费用：</div>
                            <div class="ui-inputarea" data-bind="text:mainListData.ref('freight')" >
                                    <input class="u-input" />
                            </div>
                    </div>
                    <div class="ui-item">
                            <div class="ui-name" >
                                    合计尾款金额：</div>
                            <div class="ui-inputarea" data-bind="text:mainListData.ref('tailFee')" >
                                    <input class="u-input" />
                            </div>
                    </div>
                    <div class="ui-item">
                            <div class="ui-name" >
                                    送货地址：</div>
                            <div class="ui-inputarea" data-bind="text:address" >
                                    <input class="u-input" />
                            </div>
                    </div>
                    <div class="ui-item">
                            <div class="ui-name" >
                                    要求服务日期：</div>
                            <div class="ui-inputarea" u-meta='{"type":"u-date","data":"mainListData","field":"requireDate"}' >
                                    <input class="u-input" />
                            </div>
                    </div>

                    <div class="ui-item">
                            <div class="ui-name" >
                                    <span class='ui-redstar'>*</span> 配送人员:</div>
                            <div class="ui-inputarea" u-meta='{"type":"uiRefer","data":"mainListData",
                            "field":"deliveryPersonId","showField":"deliveryPersonName","rel":{"refpk":"deliveryPersonId","refcode":"deliveryPersonCode","refname":"deliveryPersonName"}}'>
                                <input readonly="readonly" autocomplete="off" />
                                <span class="ui-icon uifont icon-bar refer"></span>
                            </div>
                    </div>
    
                    <div class="ui-item">
                        <div class="ui-name"  >
                                <span class='ui-redstar'>*</span> 安装人员：</div>
                        <div class="ui-inputarea" u-meta='{"type":"uiRefer","data":"mainListData",
                        "field":"installPersonId","showField":"installPersonName","rel":{"refpk":"installPersonId","refcode":"installPersonCode","refname":"installPersonName"}}'>
                            <input readonly="readonly" autocomplete="off" />
                            <span class="ui-icon uifont icon-bar refer"></span>
                        </div>
                    </div>
                    <div class="ui-item">
                        <div class="ui-name">
                            预约状态：</div>
                        <div class="ui-inputarea" u-meta='{"type":"u-combobox","data":"mainListData",
                        "field":"isOrdered","datasource":"enumerateSrc","enable":"false"}'>
                            <input class="ui-no-border" />
                        </div>
                    </div>
                    <div class="ui-item ui-textarea-item ">
                            <div class="ui-name">备注：</div>
                            <div class="ui-inputarea">
                                <textarea class="" u-meta='{"data":"mainListData",
                                "field":"remark","type":"textarea"}'></textarea>
                            </div> 
                    </div>
                </div> 
                      
              <div class="ui-table-container margin-bottom-30">
                      <div u-meta='{"id":"dispatchingData_add","data":"mainListChildData","type":"grid","editable":true,"multiSelect":true,"showNumCol":true}'>
                        <div options='{"field":"goodsCode","dataType":"String","title":"商品编码","editable":false}'></div>
                        <div options='{"field":"goodsName","dataType":"String","title":"商品名称","editable":false}'></div>
                        <div options='{"field":"unit","dataType":"String","title":"单位","editable":false}'></div>
                        <div options='{"field":"needNum","dataType":"integer","title":"应发数量","editable":false}'></div>
                        <div options='{"field":"actualNum","dataType":"integer","title":"实发数量","editable":false}'></div>
                        <div options='{"field":"alreadyNum","dataType":"integer","title":"已配送量","editable":false}'></div>
                        <div options='{"field":"storePlanNum","dataType":"integer","title":"排工量","editable":false}'></div>
                        <div options='{"field":"num","dataType":"integer","title":"本次送货量","editable":true}'></div>
                      </div>
              </div>
      </div>
  </div>
</div>

<!-- 查看详情 -->
<div class="ui-panel ui-bill-detail" style="display: none;">
  <div class="page-title">
      <span>查看详情</span>
   </div>
  <div class="ui-panel-btn-bg">
      <div class="ui-operate-btn">
      <a class="ui-btn ui-btn-primary" data-bind="click:retListPanel">返回</a>
      </div>
  </div>
  <!--head-->
  <div class="margin-top-10">
      <div class="ui-bill-body">
          <div class="ui-collapse-group border orderCenter">
              <div id="default-example" data-collapse>
                  <!--基本信息-->
                  <h3 class="ui-collapse-title orderCenter clearfix open margin-top-10">
                      <a href="javascript:;" class="click-btn inline-block">
                      <i class="uifont icon-tubiao-xiaosanjiao-xia"></i>
                      <i class="uifont icon-tubiao-xiaosanjiao-you"></i>
                      基本信息
                      </a>
                  </h3>
                  <div class="ui-collapse-content  clearfix">
                      <div class="ui-item">
                          <div class="ui-name">
                              请求单号：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('code')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">
                               配送任务单号：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('dispatchNoteCode')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">零售订单号：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('orderCode')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">
                         服务商：</div>
                         <div class="ui-inputarea"  data-bind="text:mainListData.ref('serviceProviderName')" ></div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">顾客：</div>
                        <div class="ui-inputarea">
                            <div class="ui-textonly" data-bind="text:mainListData.ref('customer')"></div>
                        </div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">电话：</div>
                        <div class="ui-inputarea">
                            <div class="ui-textonly" data-bind="text:mainListData.ref('phone')"></div>
                        </div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">国家：</div>
                        <div class="ui-inputarea">
                            <div class="ui-textonly" data-bind="text:mainListData.ref('countryName'),attr:{title:mainListData.ref('countryName')"></div>
                        </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">省份：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('provinceName'),attr:{title:mainListData.ref('provinceName')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">城市：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('cityName'),attr:{title:mainListData.ref('cityName')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">区县：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('districtName'),attr:{title:mainListData.ref('districtName')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">地址：</div>
                          <div class="ui-inputarea">
                              <div class="ui-textonly" data-bind="text:mainListData.ref('address'),attr:{title:mainListData.ref('address')"></div>
                          </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">
                              请求日期：</div>
                           <div class="ui-inputarea"  data-bind="text:mainListData.ref('applyDate')" ></div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">
                           请求服务日期：</div>
                           <div class="ui-inputarea"  data-bind="text:mainListData.ref('requireDate')" ></div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">
                              配送类型：</div>
                           <div class="ui-inputarea" u-meta='{"type":"u-combobox","data":"mainListData",
                           "field":"dispatchType","datasource":"dispatchTypeSrc","enable":"false"}'>
                               <input class="ui-no-border" />
                           </div>
                      </div>
                      <div class="ui-item">
                          <div class="ui-name">
                              单据状态：</div>
                          <div class="ui-inputarea" u-meta='{"type":"u-combobox","data":"mainListData",
                          "field":"billStatus","datasource":"billStatusSrc","enable":"false"}'>
                              <input class="ui-no-border" />
                          </div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">
                            预约状态：</div>
                        <div class="ui-inputarea" u-meta='{"type":"u-combobox","data":"mainListData",
                        "field":"isOrdered","datasource":"enumerateSrc","enable":"false"}'>
                            <input class="ui-no-border" />
                        </div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">
                         送装费用：</div>
                         <div class="ui-inputarea"  data-bind="text:mainListData.ref('freight')" ></div>
                      </div>
                      <div class="ui-item">
                        <div class="ui-name">
                         尾款金额：</div>
                         <div class="ui-inputarea"  data-bind="text:mainListData.ref('tailFee')" ></div>
                      </div>
                    </div>
                  </div>
                  <!--基本信息结束-->
                    
          </div>
      </div>
      <div class="ui-bill-footer">
      </div>
  </div>
  <div class="u-tabs ui-tabs">  
    <!-- 备件信息-start -->
    <div class="u-tabs__panel is-active" id="tab-panel-2" >
        <div u-meta='{"id":"grid_goods","data":"mainListChildData","type":"grid","editable":false,"multiSelect":"false","showNumCol":true}'>
            <div options='{"field":"goodsCode","dataType":"String","title":"商品编码","editable":false}'></div>
            <div options='{"field":"goodsName","dataType":"String","title":"商品名称","editable":false}'></div>
            <div options='{"field":"needNum","dataType":"String","title":"应发数量","editable":false}'></div>
            <div options='{"field":"actualNum","dataType":"String","title":"实发数量","editable":false}'></div>
            <div options='{"field":"alreadyNum","dataType":"String","title":"已配送量","editable":false}'></div>
            <div options='{"field":"storePlanNum","dataType":"String","title":"排工量","editable":false}'></div>
            <div options='{"field":"unit","dataType":"String","title":"单位","editable":false}'></div>
            
        </div>
    </div>
    <!-- 备件信息-end -->   
  </div>
</div> 


